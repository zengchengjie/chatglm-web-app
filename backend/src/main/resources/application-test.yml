server:
  port: 8000
  servlet:
    context-path: /api

spring:
  application:
    name: chatglm-backend
  main:
    web-application-type: servlet

  # RabbitMQ配置
  rabbitmq:
    host: 111.229.177.132
    port: 5672
    username: admin
    password: admin123
    virtual-host: /
    connection-timeout: 10000
    template:
      retry:
        enabled: true
        max-attempts: 3
        initial-interval: 1000
        multiplier: 2.0
        max-interval: 10000

  # Redis配置
  data:
    redis:
      host: 111.229.177.132
      port: 6379
      password:
      database: 0
      lettuce:
        pool:
          max-active: 8
          max-idle: 8
          min-idle: 0
          max-wait: -1ms
        shutdown-timeout: 100ms
# ChatGLM API配置
chatglm:
  api:
    base-url: https://open.bigmodel.cn/api/paas/v4/chat/completions
    api-key: 0eab6bcfd9b34ec8a3dc4de471731eb2.lpS49ox6p2M8x1tI
    model-name: chatglm_turbo
    timeout: 30000
    max-tokens: 2000
    temperature: 0.7
    top-p: 0.95
  monitoring:
    enabled: true
    metrics:
      prefix: chatglm
    tracing:
      enabled: false
    logging:
      level: INFO

# 通义千问API配置
qwen:
  api:
    base-url: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation
    api-key: sk-36690807ab8f4a3f84bd816996e645c5
    model-name: qwen-turbo
    timeout: 30000
    max-tokens: 2000
    temperature: 0.7
    top-p: 0.95
  monitoring:
    enabled: true
    metrics:
      prefix: qwen
    tracing:
      enabled: false
    logging:
      level: INFO

# 日志配置
logging:
  level:
    root: INFO
    com.chatglm.webapp: DEBUG
  file:
    name: logs/chatglm-backend.log

# JWT配置
jwt:
  secret: chatglm-secret-key-2024-enterprise-edition
  expiration: 86400

# Actuator监控配置
management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus,metrics,env
  endpoint:
    health:
      show-details: always
  prometheus:
    metrics:
      export:
        enabled: true
